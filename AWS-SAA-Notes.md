## IAM
- Users - individual access to the console
- Groups - collection of users
- Roles - assigned to resources to grant access to other resources
- Policies - documents that define resource access
- Root account = god mode
- Sign in url is customisable, (globally unique)
- Always enable MFA
- IAM is universal
- New users = no permissions, get access key and Secret access key, password (can only view this once)

## S3
- object based, Key-value store (key object name, value data, version id, metadata, sub-recs - ACLs - Torrent)
- 0B - 5TB
- unlimited storage
- stored in buckets
- S3 names are globally unique, urls are: https://<region>.amazonaws.com/<bucket>
- interaction is API based, normal http response codes
- new objects = read after write consistent
- old objects = eventual consistent
- SLA 99.9 available, 99.999999999 durable
- versioning
    - each new version needs to be made public individually
    - deleting a versioned object will create a following version which is the delete marker
    - can enable MFA delete, extra delete security
- Access Control Lists => regulate access to individual objects
- Bucket Policies => way of regulating access to entire buckets
- Default all buckets and objects are private
- Successful upload gets HTTP 200 response
- 3 types: S3, S3-IA and S3-resource
- Can be encrypted - either client or server side (own or managed)
    - In transit
        - SSL/TLS
    - At Rest
        - Server Side
            - S3 Managed Keys - SSE S3 (AES256, managed by AWS)
            - AWS KMS - SSE-KMS (envelope key, audit trail when keys used and by who, and can manage own keys)
            - Cutomer Provided Keys - SSE-C - Keys managed by us
        - Client Side
            - Encrypt data on client side before uploading, decrypt client side after downloading
- Replication
    - Must be in a different region
    - Cross Region replication requires versioning to be enbabled on both source and destination buckets
    - Existing files will not be automatically replicated, need to be manually copied in via cli
    - New files and changes replicated automatically
    - Deleting an object (object marker) or object version in primary will not be automatically replicated into the replication bucket
- LifeCycle Rules
    - can be used in conjunction with versioning
    - can have rules for current and previous versions
    - can use it to delete permanently as well
- CloudFront
    - is a Content Delivery Network (CDN)
    - requests for any (not just static) content delivered to Edge Locations with lowest latency
    - Edge location is a location where content will be cached. Different than Region or AZ
    - Origin is where the files will come from - S3, EC2, ELB or Route 53, or non-AWS source
    - Distribution is the collection of edge locations
    - Can actually PUT to edge locations, not just Read Only
    - Files chached for the Time-To-Live value (TTL), but can be invalidated with an account change
    - Should be secured using pre-signed URLs or cookies
    - Can force users to not be able to access content from origin directly
- Can be configured to create acccess logs
- Storage Gateway - connect on-prem DC to AWS Data Store (S3 or Glacier). VM installed in customer DC
    - File Gateway (NFS) - flat files
    - Volume Gateways (iSCSI) - block storage - incremental volume backups
        - Stored Volumes
        - Cached Voumes
    - Tape Gateway (VTL) - Archive data
- Snowball -  Physical disk connected to DC, files uploaded, then sent to AWS to be uploaded on network internally
    - replaced Import Export, different disks sent to AWS, difficult to manage
    - Encrypted
    - Edge - has compute capabilites on it, i.e. can run Lambdas on uploaded data
    - Truck version of Snowball, Exabyte scale data transfer 100PB per truck

## EC2
- As you increase CPU / ram you also increase network throughput/bandwith
- AMI - Amazon Machine Image
- An AMI is required for Auto scaling
- AMI needs to determine the root device for boot disk EBS or Instance store volume
- Virtulisation type ie what hypervisor - xen ( highly customised ) or nitro
- HVM or PV ( Hardware Virtulisation ) ( Paravirtualisation )
- HVM provides extentions to be "closer" to the hardware, ie access GPU
- AWS runs all Intel CPU's
- CPU Types are Letter then Number Ie m - General and 5 which is the 5th generation
- Local disks are called "Instance store" Ephemeral Storage
- Dedicated Tenancy a VPC and EC2 where you are the only customer on that hardware
- Spot instance, heavy discounts for unused compute but can be terminated at any time
- EBS - Persistant storage
